{% extends "base.html" %}
{% block content %}



<div class="mdl-card mdl-shadow--6dp">
    <div class="mdl-card__title mdl-color--primary mdl-color-text--white relative">
        <h2 class="mdl-card__title-text">Login</h2>
    </div>

    <!-- Beginn des Login-Formulars -->
    <form method="POST" action="/login/" onsubmit="return validateLoginForm();">
        {% csrf_token %}
        <div class="mdl-card__supporting-text">
            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                <input class="mdl-textfield__input" type="text" name="username" id="login"/>
                <label class="mdl-textfield__label" for="login">Username</label>
            </div>
            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                <input class="mdl-textfield__input" type="password" name="password" id="password"/>
                <label class="mdl-textfield__label" for="password">Password</label>
            </div>
            <p id="login-error-message" style="display: none; color: red;"></p>
        </div>

        <input type="hidden" name="redirect" value="{{ redirect }}">

        <div class="mdl-card__actions mdl-card--border">
            <div class="mdl-grid">
                <button type="submit" class="mdl-cell mdl-cell--12-col mdl-button mdl-button--raised mdl-button--colored mdl-js-button mdl-js-ripple-effect mdl-color-text--white">
                    Login
                </button>
            </div>
        </div>
    </form>
    <!-- Ende des Login-Formulars -->

    <!-- Link zur Registrierungsseite -->
    <div class="mdl-grid">
        <div class="mdl-cell mdl-cell--12-col">
            <a href="/register/" class="mdl-color-text--primary">Sign up!</a>
        </div>
    </div>
</div>


<script>
    function validateLoginForm() {
    let username = document.getElementById("login").value;
    let password = document.getElementById("password").value;
    let errorMessage = document.getElementById("login-error-message");

    if (username === "" || password === "") {
        errorMessage.innerText = "Name or password is invalide!";
        errorMessage.style.display = "block";
        return false;
    }
    errorMessage.style.display = "none";
    return true;
}
</script>


{% endblock %}