{% extends "base.html" %}
{% block content %}

<div class="mdl-layout mdl-js-layout">
    <section class="container">
        <div id="cube" class="show-front">
            <figure class="front">
                <div class="mdl-card mdl-shadow--6dp">
                    <div class="mdl-card__title mdl-color--primary mdl-color-text--white relative">
                        <h2 class="mdl-card__title-text">Register</h2>
                    </div>

                    <!-- Beginn des Registrierungsformulars -->
                    <form method="POST" action="/register/" onsubmit="return validatePassword();">
                        {% csrf_token %}
                        <div class="mdl-card__supporting-text">
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <input class="mdl-textfield__input" type="text" name="username" id="username" required/>
                                <label class="mdl-textfield__label" for="username">Username</label>
                            </div>
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <input class="mdl-textfield__input" type="email" name="email" id="email" required/>
                                <label class="mdl-textfield__label" for="email">E-Mail</label>
                            </div>
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" id="password_div">
                                <input class="mdl-textfield__input" type="password" name="password" id="password" required/>
                                <label class="mdl-textfield__label" for="password">Password</label>
                            </div>
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" id="confirm_password_div">
                                <input class="mdl-textfield__input" type="password" name="confirm_password" id="confirm_password" required/>
                                <label class="mdl-textfield__label" for="confirm_password">Confirm Password</label>
                                <span class="mdl-textfield__error" id="password_error">Invalid password</span>
                            </div>
                        </div>

                        <div class="mdl-card__actions mdl-card--border">
                            <div class="mdl-grid">
                                <button type="submit" class="mdl-cell mdl-cell--12-col mdl-button mdl-button--raised mdl-button--colored mdl-js-button mdl-js-ripple-effect mdl-color-text--white">
                                    Register
                                </button>
                            </div>
                        </div>
                    </form>
                    <!-- Ende des Registrierungsformulars -->
                </div>
            </figure>
        </div>
    </section>
</div>

<script>
function validatePassword() {
    let password = document.getElementById("password").value;
    let confirm_password = document.getElementById("confirm_password").value;
    let password_div = document.getElementById("password_div");
    let confirm_div = document.getElementById("confirm_password_div");
    let error_message = document.getElementById("password_error");

    if (password != confirm_password) {
        password_div.classList.add("is-invalid");
        confirm_div.classList.add("is-invalid");
        error_message.style.display = "block";
        return false;
    } else {
        password_div.classList.remove("is-invalid");
        confirm_div.classList.remove("is-invalid");
        error_message.style.display = "none";
        return true;
    }
}
</script>


{% endblock %}